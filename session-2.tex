%! Author = verwoerd
%! Date = 9-8-2023

% Preamble
\documentclass[11pt,pdf, aspectratio=169]{beamer}
\usetheme{metropolis}
\title{DAPC 2023 Training Sessions\\Session 2}
\author{Verwoerd}

% Packages
\usepackage{amsmath}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{tikz}
\usepackage{minted}
\usepackage[
  type={CC},
  modifier={by-sa},
  version={4.0},
]{doclicense}
\setsansfont{Fira Sans}
\usemintedstyle{manni}
\setminted{
  fontsize=\footnotesize,linenos,frame=lines, framesep=2mm
}
\usetikzlibrary{angles,quotes}

% Document
\begin{document}
  \maketitle
  \begin{frame}{Session 2}
    \begin{itemize}
      \item Team Tactics
      \item Utilizing the Test Session
      \item How to select problems
      \item Solutions to the Ad-hoc and Math Problems
      \item Solving Sorting and Search Problems
    \end{itemize}
    \doclicenseThis
  \end{frame}


  \section{Team Tactics}
  \begin{frame}{General Tactics}
    \begin{itemize}
      \item Know each-others strength and weaknesses like:
      \begin{itemize}
        \item type of problems (math, geometry, search, strings, graphs etc.)
        \item debugging skills
        \item coding speed and accuracy
      \end{itemize}
      \item parallelize
      \item work on paper (e.g. pseudocode of flow diagram)
      \item debug on paper
      \item use cardboard dog principle when stuck
    \end{itemize}
  \end{frame}
  \begin{frame}{Team Tactics}
    \begin{itemize}
      \item<1-> Plot of the contest: 3 contestants, 1 computer
      \item<2-> Several tactics how to divide the computer efficiently
      \item<3-> Shuffle Tactic\begin{itemize}
                                \item<4-> Rotate around who sites behind the pc
                                \item<4-> After submitting a problem switch around if someone has a solution
                                \item<4-> Useful when programming in different languages
      \end{itemize}
      \item<3-> Designated Tactic\begin{itemize}
                                   \item<5->Dedicated computer behind person
                                   \item<5-> Other teams work on paper or read with on screen
                                   \item<5-> Useful for teams with different disciplines
      \end{itemize}
      \item<3-> No best solution: Pick and mix what works best for your team
    \end{itemize}
  \end{frame}


  \section{Utilizing the Test Session}
  \begin{frame}{Utilizing the Test Session}
    \begin{itemize}
      \item The test session is a short version practice contest with a few simple problems
      \item Find your team workspace
      \item Practice start of the contest, e.g. where are the problems located, how is the start announced
      \item Practice end of the contest, e.g. freeze warning, countdown.
    \end{itemize}
  \end{frame}
  \begin{frame}{Testing the envirionment}
    \begin{itemize}
      \item<1-> Get to know the programming environment and it's quirks
      \item <2-> Where is everything located: samples, documentation, important links
      \item <3-> Try all IDE and tools you \textit{might} use during the contest
      \item <4-> Test out printing, if supported, from ide, command line and CSS
      \item <5-> All files will be removed after the test session!
    \end{itemize}
  \end{frame}
  \begin{frame}{Testing the Contest System}
    \begin{itemize}
      \item Test the possible problems, how are they reported back
      \begin{itemize}
        \item Correct (AC)
        \item Wrong Answer (WA)
        \item Run Time Error (RTE), like segmentation fault, going over heap/stack space, null pointer exception
        \item Time Limit Exceeded (TLE)
        \item Compiler Error
      \end{itemize}
      \item Test Clarification requests
      \item Where are general clarifications displayed
    \end{itemize}
  \end{frame}


  \section{Hints on selecting the problems}
  \begin{frame}{Selecting the first problem}
    \begin{itemize}
      \item Decide on a reading tactic
      \begin{itemize}
        \item do we all start on reading the first problem?
        \item Or do one person start on the end?
      \end{itemize}
      \item There are usually several ``simple'' problems in a set
      \item Be careful: the easiest problems usually contain some pitfall corner cases!
    \end{itemize}
  \end{frame}
  \begin{frame}{Finding the easiest problems by results}
    \begin{itemize}
      \item After 15 minutes of contest the first balloons will be handed out
      \item Look at the scoreboard or to the balloons which problem is solved most % TODO: Add image of bottom scoreboard
      \item Or the problems page in DOMJudge %TODO: Add image of frequency graph of problems page
      \item \textbf{Warning}: The first problem solved is not guaranteed the easiest!
    \end{itemize}
  \end{frame}
  \begin{frame}{My problem is wrong, what now}
    Print out the problem and let other people work on other problems, work out cases that might go wrong.
    \begin{itemize}
      \item When the result is RTE:
      \begin{itemize}
        \item Check for possible Null pointers, array overflows or integer overflow
        \item Check the input specification, don't forget 0 can do unexpected things
      \end{itemize}
      \item When the result is TLE:
      \begin{itemize}
        \item Check stop conditions, maybe an infinite loop?
        \item Problem is too slow, try optimizing or thinking of a faster solution
      \end{itemize}
      \item When then result is WA:
      \begin{itemize}
        \item Check for corner cases, don't forget zero
        \item Check correctness of algorithm
      \end{itemize}
      \item \textbf{Warning}: A problem can be WA and TLE at the same time, but only 1 is reported back!
    \end{itemize}
  \end{frame}


  \section{Solutions to the ad-hoc and math problems}
  \begin{frame}{Jabbing Jets}
    \begin{itemize}
      \item Source BAPC Preliminaries 2022
      \item Time limit: 1s
      \item Given $n$ concentric circles, find the maximal number of points on these circles such that the distance between any two points is at least $e$.
    \end{itemize}
    Original problem written by the BAPC 2022 jury and licensed under \doclicenseLongNameRef.

    \doclicenseImage

  \end{frame}
  \begin{frame}{Jabbing Jets}
    \begin{columns}
      \column{0.75\textwidth}
      \begin{itemize}
        \item Observation 1: time limit of 1s so looking for $\mathcal{O}(n)$ solution
        \item Observation 2: Because $r_{i+1}-r_i \geq e$ every circle can be considered separately.
        \item 2 points are divided by angle $\alpha$
        \item you can calculate $\alpha = 2 \arcsin{}(\frac{e}{2r})$
        \item The radius of a circle is $2\pi$ so the max number of points with distance $e$ can be calculated by\\
        $\left\lfloor\frac{2\pi}{\alpha}\right\rfloor \equiv \left\lfloor \frac{2\pi}{2 \arcsin{}(\frac{e}{2r})}\right\rfloor$
        \item Do this for every circle and sum the numbers
        \item Pitfall 1: if $2r < e$ then there can only be one point
        \item Pitfall 2: rounding can cause issues, add $0.5\cdot 10^{-6}$
      \end{itemize}
      \column{.25\textwidth}
      \input{dapc-j.tikz}
    \end{columns}
  \end{frame}
  \begin{frame}[containsverbatim]{Solution for Jabbing Jets}
    \inputminted{python}{code/session-1/python/dapc-j.py}
  \end{frame}
  \begin{frame}{Lots of Liquid}
    \begin{itemize}
      \item Source BAPC Preliminaries 2022
      \item Time limit: 1s
      \item Find the length of the side of a cube that contains all liquid.
    \end{itemize}
    Original problem written by the BAPC 2022 jury and licensed under \doclicenseLongNameRef.
    \doclicenseImage
  \end{frame}
  \begin{frame}{Lots of Liquid}
    \begin{itemize}
      \item Observation: Number of inputs is $10^9$, so we are looking for a $\mathcal{O}(n)$ solution
      \item The volume of a cube is $c^3$
      \item The length of cube with volume v is $\sqrt[3]{v}$
      \item Sum all volumes of the cubes and calculate the length of the cube
      \item Print out \[\sqrt[3]{\sum_c^{i=0}c_i}\]
    \end{itemize}
  \end{frame}
  \begin{frame}[containsverbatim]{Lots of Liquid}
    \inputminted{python}{code/session-1/python/dapc-l.py}
    \inputminted{kotlin}{code/session-1/kotlin/dapc-l.kt}
  \end{frame}
  \begin{frame}{Bellevue}
    \begin{itemize}
      \item Source BAPC 2022
      \item Time limit: 1s
      \item  Given the profile of an island, find the point with the largest viewing angle of the sea.
    \end{itemize}
    Original problem written by the BAPC 2022 jury and licensed under \doclicenseLongNameRef.
    \doclicenseImage
  \end{frame}
  \begin{frame}{Bellevue}
    \begin{itemize}
      \item The answer is always an angle from the start or the end of the island to another point
      \item Calculate the angle from start and end to any other point
      \item print out the solution.\\
      \item alternatively calculate the convex hull
      \item the best angle is from either the first and second point in the hull or the last and previous.
    \end{itemize}
  \end{frame}
  \begin{frame}[containsverbatim]{Bellevue}
    \inputminted{python}{code/session-1/python/bapc-b.py}
  \end{frame}
  \begin{frame}{Equalising Audio}
    \begin{itemize}
      \item Source BAPC 2022
      \item Time limit: 4s
      \item  Given a list of frequencies, normalize it so the perceived loudness is \[\frac{1}{n} \sum^n_{i=1}a_i^2=x\]
    \end{itemize}
    Original problem written by the BAPC 2022 jury and licensed under \doclicenseLongNameRef.
    \doclicenseImage
  \end{frame}
  \begin{frame}{Equalising Audio}
    \begin{itemize}
      \item Observation time limit is high for I/O operations
      \item First calculate the current perceived loudness \[x_{cur} = \frac{1}{n} \sum^n_{i=1}a_i^2\]
      \item Then print out the frequency reduced by $\sqrt{\frac{x}{x_{cur}}}$, since
      \[\frac{1}{n} \sum^n_{i=1}\left(\sqrt{\frac{x}{x_{cur}}}a_i\right)^2 = \frac{1}{n} \sum^n_{i=1}\left(\sqrt{\frac{x}{x_{cur}}}\right)^2a_i^2 = \frac{x}{x_{cur}}\cdot \frac{1}{n}\sum^n_{i=1}a_i^2 = \frac{x}{x_{cur}}\cdot x_{cur} = x\]
      \item Pitfall: if the current perceived loudness ($x_{cur}$) is 0, then the result is \texttt{0 \ldots 0}
    \end{itemize}
  \end{frame}
  \begin{frame}[containsverbatim]{ Equalising Audio}
    \inputminted{python}{code/session-1/python/bapc-e.py}
    \inputminted{kotlin}{code/session-1/kotlin/bapc-e.kt}
  \end{frame}
  \begin{frame}{Failing Flagship}
    \begin{itemize}
      \item Source BAPC 2022
      \item Time limit: 1s
      \item  Compute the minimum angle in degrees between two wind directions.
    \end{itemize}
    Original problem written by the BAPC 2022 jury and licensed under \doclicenseLongNameRef.
    \doclicenseImage
  \end{frame}
  \begin{frame}{Failing Flagship}
    \begin{itemize}
      \item Convert the letters to degrees $d_1$ and $d_2$
      \item Execute the algorithm as described in the problem by adding and subtracting a delta, starting at $45\deg$
      \item Ever next letter represents a half of previous delta and either add or subtract it
      \item Be careful of overflow with NW
      \item print out the min($d_2-d_1, 360+d_1-d_2$)
    \end{itemize}
  \end{frame}
  \begin{frame}[containsverbatim]{Failing Flagship}
    \inputminted{python}{code/session-1/python/bapc-f.py}
  \end{frame}


  \section{Solving Sorting and Search Problems}
  \begin{frame}{Natural Order Sorting Algorithms}
    \begin{itemize}
      \item Sorting algorithms sort items in a natural order
      \item Use build in sort as much of possible
      \item C++17: \mintinline{c++}|std::sort()|
      \item Python: \mintinline{python}|list.sort()| or \mintinline{python}|sorted()|
      \item Java/Kotlin: \mintinline{java}|Arrays.sort()| or \mintinline{java}|Collections.sort()|
      \item C++ uses IntroSort and Python/Java/Kotlin use TimSort, both $\mathcal{O}(n\log{}n)$
      \item For special case sorting, write a specific comparator or key function (Python)
    \end{itemize}
  \end{frame}
  \begin{frame}{Binary Search}
    \begin{itemize}
      \item If the input is sorted or monotone increasing you can use binary search
      \item start in the middle and half the search space based on if the value is to high or to low
      \item Results in an $\mathcal{O}(\log{}n)$ algorithm
      \item C++17: \mintinline{c++}|std::binary_search()|
      \item Python: \mintinline{python}|bisect()|
      \item Java/Kotlin: \mintinline{java}|Arrays.binarySearch()| or \mintinline{java}|Collections.binarySearch()|
      \item Implementing your own binary search is error prone!
    \end{itemize}
  \end{frame}
  \begin{frame}{Depth first search (DFS)}
    \begin{itemize}
      \item Greedy algorithm to search a graph or tree
      \item Visit every node when it is discovered
      \item Usually implemented by using a Stack datastructure
      \item Use an array to keep track of discovered node
      \item Example application is solving a maze
      \item \textbf{Note}: Using a array is faster then using a Set
    \end{itemize}
  \end{frame}
  \begin{frame}{Breath first search (BFS)}
    \begin{itemize}
      \item Simulair to DFS, but visits based on discovery order
      \item Usually implemented by using a queue
      \item Example application is flood filling to find a closest node
    \end{itemize}
  \end{frame}
  \begin{frame}{Search using a heap}
    \begin{itemize}
      \item Search a space, selecting the next position by a condition
      \item For Example: the closest node in Dijkstra's Shortest Path Algorithm
      \item C++17: \mintinline{c++}|std::priority_queue|
      \item Python: \mintinline{python}|heapify()| and \mintinline{python}|heapq|
      \item Java/Kotlin: \mintinline{java}|java.util.PriorityQueue()|
    \end{itemize}
  \end{frame}
\end{document}
